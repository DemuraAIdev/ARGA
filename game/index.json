{
  "name": "Prison Break",
  "author": "Abdul Vaiz",
  "version": "1.0.0",
  "start": "CellPrison",
  "description": "You are in a prison cell. You want to escape from the prison.",
  "config": {
    "debug": true,
    "allowedActions": [
      "take",
      "search",
      "open",
      "close",
      "enter",
      "unlock",
      "sleep",
      "help",
      "save",
      "load",
      "quit",
      "look"
    ]
  },
  "inventory": [],
  "finishmessage": "You escaped the prison. Congratulations!",
  "locations": [
    {
      "id": "CellPrison",
      "name": "Prison Cell",
      "description": "You are in a prison cell. There is a bed and a desk. There is a door.",
      "items": ["bed", "desk", "door_cell"]
    },
    {
      "id": "Corridor",
      "name": "Corridor",
      "description": "You are in a corridor. There is a door.",
      "items": ["door_corr", "door_cell", "guard"]
    }
  ],
  "item": [
    {
      "id": "bed",
      "name": "bed",
      "description": "A bed. It looks comfortable.",
      "canTake": {
        "take": false,
        "message": "You can't take the bed."
      },
      "canSearch": {
        "search": false,
        "message": "You can't search the bed. but you can sleep on it (coming soon)."
      },
      "canSleep": {
        "sleep": true,
        "message": "You sleep on the bed."
      },
      "event": "wakeup_midnight"
    },
    {
      "id": "desk",
      "name": "desk",
      "description": "A desk. It has a drawer.",
      "canSearch": {
        "search": {
          "items": ["drawer"],
          "message": "You search the desk. You find a drawer."
        },
        "message": "You search the desk. You find a drawer."
      }
    },
    {
      "id": "drawer",
      "canSearch": {
        "search": false,
        "message": "You can't search the drawer. but you can open it. (command: open drawer)"
      },
      "name": "drawer",
      "description": "A drawer. It is closed.",
      "canOpen": {
        "open": true,
        "message": "You open the drawer. You find a key"
      },
      "canClose": {
        "close": true,
        "message": "You close the drawer."
      },
      "state": "closed",
      "states": {
        "open": {
          "message": "The drawer is open. You find key.",
          "items": ["keycell"]
        },
        "closed": {
          "message": "The drawer is closed."
        }
      }
    },
    {
      "id": "key",
      "name": "key",
      "canTake": {
        "take": true,
        "message": "You take the key."
      }
    },
    {
      "id": "keycell",
      "name": "Key Cellprison",
      "description": "A key. It is for cellprison door.",
      "canTake": {
        "take": true,
        "message": "You take the key."
      }
    },
    {
      "id": "door_corr",
      "name": "door_corr",
      "description": "A door. It is locked.",
      "canOpen": {
        "open": false,
        "message": "The door is locked."
      },
      "canEnter": {
        "enter": false,
        "message": "The door is locked."
      },
      "canUnlock": {
        "unlock": true,
        "message": "You unlock the door.",
        "use": "key"
      },
      "state": "closed",
      "states": {
        "open": {
          "message": "The door is open.",
          "finish": true
        }
      }
    },
    {
      "id": "door_cell",
      "name": "door_cell",
      "description": "A door. It is locked.",
      "state": "locked",
      "locationnext": "Corridor",
      "locationbefore": "CellPrison",
      "event": "angry_guard",
      "canOpen": {
        "open": false,
        "message": "The door is locked"
      },
      "canUnlock": {
        "unlock": true,
        "message": "You unlock the door.",
        "use": "keycell"
      },
      "canEnter": {
        "enter": "Corridor",
        "message": "You enter the door.",
        "locationbefore": "CellPrison"
      },
      "states": {
        "open": {
          "message": "The door is open."
        },
        "closed": {
          "message": "The door is closed."
        }
      }
    },
    {
      "id": "guard",
      "name": "guard",
      "description": "A guard.",
      "state": "normal",
      "states": {
        "angry": {
          "message": "The guard is angry. He is ignoring you."
        },
        "normal": {
          "message": "The guard is normal."
        },
        "sleep": {
          "message": "The guard is sleeping."
        }
      },
      "canSearch": {
        "search": {
          "items": ["key"],
          "message": "You search the guard. You find a key."
        },
        "message": "You search the guard. You find a key."
      }
    }
  ],
  "event": [
    {
      "id": "angry_guard",
      "trigger": {
        "verb": ["open", "unlock", "enter"],
        "object": "door_cell"
      },
      "happen": false,
      "name": "angry_guard",
      "description": "The guard is angry.",
      "effects": [
        {
          "item": "guard",
          "state": "angry",
          "message": "Hey you prisoner! What are you doing?"
        },
        {
          "item": "door_cell",
          "state": "closed",
          "message": "The guard closes the door.",
          "actions": {
            "canUnlock": {
              "allowed": false,
              "message": "The guard watching you."
            },
            "canOpen": {
              "allowed": false,
              "message": "The guard watching you."
            },
            "canEnter": {
              "allowed": false,
              "message": "The guard watching you."
            }
          }
        }
      ]
    },
    {
      "id": "wakeup_midnight",
      "trigger": {
        "verb": "sleep",
        "object": "bed"
      },
      "happen": false,
      "name": "wakeup_midnight",
      "description": "You wake up at midnight.",
      "disableevent": "angry_guard",
      "effects": [
        {
          "item": "guard",
          "state": "sleep",
          "message": "The guard is sleeping."
        },
        {
          "item": "door_cell",
          "state": "closed",
          "message": "The door is open.",
          "actions": {
            "canOpen": {
              "open": false,
              "message": "The door is locked."
            },
            "canUnlock": {
              "unlock": true,
              "message": "You unlock the door.",
              "use": "keycell"
            },
            "canEnter": {
              "enter": "Corridor",
              "message": "You enter the door.",
              "locationbefore": "CellPrison"
            }	
          }
        }
      ]
    }
  ],
  "ARGAVER": "1.0.0"
}
